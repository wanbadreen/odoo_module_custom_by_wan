<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_picking_form_gdex" model="ir.ui.view">
        <field name="name">stock.picking.form.gdex</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <button
                    name="action_gdex_create_awb"
                    type="object"
                    string="Create GDEX AWB"
                    class="btn-primary"
                    groups="stock.group_stock_user"
                    modifiers="{'invisible': ['|', ('picking_type_code', '!=', 'outgoing'), '|', ('state', 'in', ['done', 'cancel']), ('gdex_cn', '!=', False)]}"
                />
            </xpath>
            <xpath expr="//notebook" position="inside">
                <page string="GDEX">
                    <group>
                        <field name="gdex_state" readonly="1"/>
                        <field name="gdex_cn" readonly="1"/>
                        <field name="gdex_status" readonly="1"/>
                        <field name="gdex_last_sync_at" readonly="1"/>
                        <field name="gdex_last_error" readonly="1"/>
                        <field name="gdex_last_status_raw" readonly="1"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
